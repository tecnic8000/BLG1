generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  schemas  = ["blg1a2"]
}

model shoplists {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id     String    @db.Uuid
  list_detail Int[]
  note        String?   @db.VarChar(225)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
  longid      String?
  users       users     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_shoplist_user")

  @@index([list_detail], map: "idx_shoplist_list_detail")
  @@schema("blg1a2")
}

model users {
  id                  String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email               String      @unique @db.VarChar(255)
  phone               String?     @unique
  auth_provider       String?
  pwd                 String?
  pin                 Int?
  role                String?     @db.VarChar(255)
  is_verified         Boolean?    @default(false)
  is_active           Boolean?    @default(true)
  verify_token        String?
  verify_token_expire DateTime?   @db.Timestamp(6)
  reset_token         String?
  reset_token_expire  DateTime?   @db.Timestamp(6)
  username            String?     @unique @db.VarChar(255)
  noti_pref           String?     @default("all") @db.VarChar(255)
  favorites           Int[]       @db.SmallInt
  score               Int?        @default(0)
  last_login          DateTime?   @db.Timestamp(6)
  created_at          DateTime?   @default(now()) @db.Timestamp(6)
  updated_at          DateTime?   @default(now()) @db.Timestamp(6)
  longid              String?     @db.VarChar(255)
  shoplists           shoplists[]

  @@index([is_active], map: "idx_user_is_active")
  @@index([is_verified], map: "idx_user_is_verified")
  @@index([noti_pref], map: "idx_user_noti_pref")
  @@index([score], map: "idx_user_score")
  @@schema("blg1a2")
}
